namespace = paragon

country_event = { #Coronation
	id = paragon.5021
	title = "paragon.5021.name"
	desc = "paragon.5021.desc"
	picture = GFX_evt_coronation
	show_sound = event_coronation

	is_triggered_only = yes

	trigger = {
		exists = ruler
		ruler = { has_leader_flag = paragon_origin_legendary_leader }
	}

	immediate = {
		country_event = {
			id = paragon.5050 days = 1800 random = 3600
		}
		while = {
			count = value:paragon_take_10pr_pops
			random_owned_pop = {
				limit = {
					NOT = { pop_has_ethic = ethic_egalitarian }
				}
				pop_change_ethic = ethic_egalitarian
			}
		}
	}

	option = {
		name = paragon.5021.a
		trigger = {
			is_militarist = yes
			NOT = {
				ruler = {
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_military_knowledge }
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_foe_hammer }
				}
			}
		}
		locked_random_list = {
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_military_knowledge }
					}
				}
				ruler = { add_trait = leader_trait_legendary_military_knowledge }
			}
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_foe_hammer }
					}
				}
				ruler = { add_trait = leader_trait_legendary_foe_hammer }
			}
		}
	}
	option = {
		name = paragon.5021.b
		trigger = {
			is_spiritualist = yes
			NOT = {
				ruler = {
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_great_teacher }
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_pious_ascet }
				}
			}
		}
		locked_random_list = {
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_great_teacher }
					}
				}
				ruler = { add_trait = leader_trait_legendary_great_teacher }
			}
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_pious_ascet }
					}
				}
				ruler = { add_trait = leader_trait_legendary_pious_ascet }
			}
		}
	}
	option = {
		name = paragon.5021.c
		trigger = {
			is_authoritarian = yes
			NOT = {
				ruler = {
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_commanding_presence }
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_high_king }
				}
			}
		}
		locked_random_list = {
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_commanding_presence }
					}
				}
				ruler = { add_trait = leader_trait_legendary_commanding_presence }
			}
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_high_king }
					}
				}
				ruler = { add_trait = leader_trait_legendary_high_king }
			}
		}
	}
	option = {
		name = paragon.5021.d
		trigger = {
			is_xenophile = yes
			NOT = {
				ruler = {
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_gunboat_diplomacy }
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_scientific_diplomacy }
				}
			}
		}
		locked_random_list = {
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_gunboat_diplomacy }
					}
				}
				ruler = { add_trait = leader_trait_legendary_gunboat_diplomacy }
			}
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_scientific_diplomacy }
					}
				}
				ruler = { add_trait = leader_trait_legendary_scientific_diplomacy }
			}
		}
	}
	option = {
		name = paragon.5021.e
		trigger = {
			is_pacifist = yes
			NOT = {
				ruler = {
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_autarky }
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_natural_ruler }
				}
			}
		}
		locked_random_list = {
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_autarky }
					}
				}
				ruler = { add_trait = leader_trait_legendary_autarky }
			}
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_natural_ruler }
					}
				}
				ruler = { add_trait = leader_trait_legendary_natural_ruler }
			}
		}
	}
	option = {
		name = paragon.5021.f
		trigger = {
			is_materialist = yes
			NOT = {
				ruler = {
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_industry_titan }
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_great_inventor }
				}
			}
		}
		locked_random_list = {
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_industry_titan }
					}
				}
				ruler = { add_trait = leader_trait_legendary_industry_titan }
			}
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_great_inventor }
					}
				}
				ruler = { add_trait = leader_trait_legendary_great_inventor }
			}
		}
	}
	option = {
		name = paragon.5021.g
		trigger = {
			is_xenophobe = yes
			NOT = {
				ruler = {
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_genetic_purist }
					has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_evervigilant }
				}
			}
		}
		locked_random_list = {
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_genetic_purist }
					}
				}
				ruler = { add_trait = leader_trait_legendary_genetic_purist }
			}
			1 = {
				modifier = {
					factor = 0
					ruler = {
						has_trait_tier1or2or3or4 = { TRAIT = leader_trait_legendary_evervigilant }
					}
				}
				ruler = { add_trait = leader_trait_legendary_evervigilant }
			}
		}
	}
	option = {
		name = paragon.5021.h
		paragon_origin_gain_modifier = yes
	}

	after = {
		add_modifier = {
			modifier = media_coverage_positive_low
			days = 360
		}
	}
}